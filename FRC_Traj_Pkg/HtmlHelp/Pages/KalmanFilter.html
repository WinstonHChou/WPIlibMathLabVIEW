<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!-- Constructed with LabVIEW Report Generation -->
<HEAD>
<TITLE></TITLE>
</HEAD>

<BODY>
<h2 id="KalmanFilter" >KalmanFilter</h2>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_Correct" >KalmanFilter_Correct</h3>
<p><IMG SRC="LVtemp20221117044430_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Correct the state estimate x-hat using the measurements in y.<BR>
   <BR>
Inputs:<BR>
  -  inKalmanFIlter  --  filter data cluster<BR>
  -  u  --  Same control input used in the last predict step.<BR>
  -  y  --  Measurement vector.<BR>
<BR>
Outputs:<BR>
  -  outKalmanFilter  --  updated filter data cluster<BR>
  -  error  -- If true, an error occured<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_GetK" >KalmanFilter_GetK</h3>
<p><IMG SRC="LVtemp20221117044434_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns the steady-state Kalman gain matrix K.<BR>
  <BR>
Inputs:<BR>
  -  KalmanFilter  -- filter data cluster<BR>
<BR>
Outputs:<BR>
  -  K  -  The steady-state Kalman gain matrix K.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_GetK_Single" >KalmanFilter_GetK_Single</h3>
<p><IMG SRC="LVtemp20221117044437_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns an element of the steady-state Kalman gain matrix K.<BR>
  <BR>
Inputs:<BR>
  -  KalmanFilter  -- filter data cluster<BR>
  -  row  -- matrix row indiex (0-n)<BR>
  -  column  -- matrix column index (0-n)<BR>
<BR>
Outputs:<BR>
  -  K  -  The steady-state Kalman gain matrix K.<BR>
  -  Error  -- value is TRUE if an error occured.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_GetXHat" >KalmanFilter_GetXHat</h3>
<p><IMG SRC="LVtemp20221117044441_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns the state estimate x-hat.<BR>
   <BR>
Inputs:<BR>
  -  KalmanFilter  -- filter data cluster<BR>
<BR>
Outputs:<BR>
  -  xHat  -  The state estimate x-hat.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_GetXHat_Single" >KalmanFilter_GetXHat_Single</h3>
<p><IMG SRC="LVtemp20221117044445_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns a single element of  the state estimate x-hat.<BR>
   <BR>
Inputs:<BR>
  -  KalmanFilter  -- filter data cluster<BR>
  -  row  --  matrix row number (0-n)<BR>
<BR>
Outputs:<BR>
  -  xHat  -  The single state estimate x-hat value.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_New" >KalmanFilter_New</h3>
<p><IMG SRC="LVtemp20221117044450_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">A Kalman filter combines predictions from a model and measurements to give an estimate of the true system state. This is useful because many states cannot be measured directly as a result of sensor noise, or because the state is "hidden".<BR>
 <BR>
Kalman filters use a K gain matrix to determine whether to trust the model or measurements more. Kalman filter theory uses statistics to compute an optimal K gain which minimizes the sum of squares error in the state estimate. This K gain is used to correct the state estimate by some amount of the difference between the actual measurements and the measurements predicted by the model.<BR>
 <BR>
For more on the underlying math, read https://file.tavsys.net/control/controls-engineering-in-frc.pdf chapter 9 "Stochastic control theory".<BR>
<BR>
Constructs a state-space observer with the given plant.<BR>
   <BR>
Inputs:<BR>
  -  states  --  A Nat representing the states of the system.<BR>
  -  outputs  --  A Nat representing the outputs of the system.<BR>
  -  plant  --  The plant used for the prediction step.<BR>
  -  stateStdDevs  --  Standard deviations of model states.<BR>
  -  measurementStdDevs  --  Standard deviations of measurements.<BR>
  -  dtSeconds  --  Nominal discretization timestep.<BR>
<BR>
Outputs:<BR>
  -  KalmanFilter  --  The kalman filter data cluster<BR>
  -  Error  --  TRUE indicates an error has occured.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_Predict" >KalmanFilter_Predict</h3>
<p><IMG SRC="LVtemp20221117044457_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Project the model into the future with a new control input u.<BR>
   <BR>
Inputs:<BR>
  -  inKalmanFilter  -- filter data cluster<BR>
  -  u  --  New control input from controller.<BR>
  -  dtSeconds  --  Timestep for prediction. <BR>
<BR>
Outputs:<BR>
  -  outKalmanFilter  --  updated filter data cluster<BR>
  -  error  --  If value is TRUE, an error occured.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_Reset" >KalmanFilter_Reset</h3>
<p><IMG SRC="LVtemp20221117044501_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Resets xHat matrix to all zero<BR>
<BR>
Inputs:<BR>
  -  inKalmanFIlter  --  filter data cluster<BR>
<BR>
Outpus:<BR>
  -  outKalmanFilter  --  filter data cluster<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_SetXHat" >KalmanFilter_SetXHat</h3>
<p><IMG SRC="LVtemp20221117044504_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Set initial state estimate x-hat.<BR>
   <BR>
Inputs:<BR>
  -  inKalmanFilter  -- filter data cluster<BR>
  -  xhat  --  The state estimate x-hat.<BR>
  <BR>
Outputs:<BR>
  -  outKalmanFilter  -- updated filter data cluster<BR>
  -  sizeCoerced  -- If TRUE, an unexpected error occured with the size of the input xHat<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="KalmanFilter_SetXHat_Single" >KalmanFilter_SetXHat_Single</h3>
<p><IMG SRC="LVtemp20221117044508_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Sets a single row of the initial state estimate x-hat.<BR>
   <BR>
Inputs:<BR>
  -  inKalmanFilter  -- filter data cluster<BR>
  -  xhat  --  The state estimate x-hat.<BR>
  -  row  -- matrix row number (0-n) to set.<BR>
  <BR>
Outputs:<BR>
  -  outKalmanFilter  -- updated filter data cluster<BR>
  -  error -- If TRUE, an unexpected error occured<BR>
</pre></p>
<br>
</BODY>
</HTML>