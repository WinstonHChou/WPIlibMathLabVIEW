<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!-- Constructed with LabVIEW Report Generation -->
<HEAD>
<TITLE></TITLE>
</HEAD>

<BODY>
<h2 id="LTVUnicycleCtrl" >LTVUnicycleCtrl</h2>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_AtReference" >LTVUnicycleCtrl_AtReference</h3>
<p><IMG SRC="LTVUnicycleCtrl_AtReference_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns true if the pose error is within tolerance of the reference.<BR>
  <BR>
<BR>
Inputs:<BR>
   - LTV Unicycle Controller  --  Data cluster<BR>
<BR>
Outputs:<BR>
   - At Reference  --   True if the pose error is within tolerance of the reference.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_Calculate" >LTVUnicycleCtrl_Calculate</h3>
<p><IMG SRC="LTVUnicycleCtrl_Calculate_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns the linear and angular velocity outputs of the LTV controller.<BR>
<BR>
Inputs:<BR>
   - in LTV Unicycle Controller  --  Controller data cluster<BR>
    -  currentPose  --  The current pose.<BR>
    -  poseRef  --  The desired pose.  (Setpont)<BR>
    -  linearVelocityRef  --  The desired linear velocity in meters per second.  (Feedforward)<BR>
    -  angularVelocityRef  --  The desired angular velocity in radians per second.  (Feedforward)<BR>
<BR>
Outputs:<BR>
   - out LTV Unicycle Controller  --  Updatated data cluster<BR>
   - Chassis Speeds  -- The linear and angular velocity outputs of the LTV controller.<BR>
   - Error  --  Returns TRUE if an error occured.</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_Calculate_TrajState" >LTVUnicycleCtrl_Calculate_TrajState</h3>
<p><IMG SRC="LTVUnicycleCtrl_Calculate_TrajState_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Returns the linear and angular velocity outputs of the LTV controller.<BR>
<BR>
The reference pose, linear velocity, and angular velocity should come from a drivetrain trajectory.<BR>
<BR>
Inputs:<BR>
   - in LTV Unicycle Controller  --  Controller data cluster<BR>
    -  currentPose  --  The current pose.<BR>
   -  Traj State  --  The desired pose, linear velocity, and angular velocity from a trajectory.<BR>
<BR>
Outputs:<BR>
   - out LTV Unicycle Controller  --  Updatated data cluster<BR>
   - Chassis Speeds  -- The linear and angular velocity outputs of the LTV controller.<BR>
   - Error  --  Returns TRUE if an error occured.</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_Execute" >LTVUnicycleCtrl_Execute</h3>
<p><IMG SRC="LTVUnicycleCtrl_Execute_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">The linear time-varying unicycle controller has a similar form to the LQR, but the model used to compute the controller gain is the nonlinear model linearized around the drivetrain's current state.<BR>
<BR>
This LabVIEW single call function creates and executes the LTV Unicycle controller. <BR>
<BR>
<BR>
Inputs:<BR>
  -  LTVUnicycleCtrl Model  --  cluster  --  Packed data used to construct the LTV Unicycle control system.<BR>
  -  LTVUnicycleCtrl Tol  --  cluster  --  Packed data used to define the tolerance LTV Unicycle control system.<BR>
  -  Ref Pose  -- Pose2d  --  The desired pose setpoint.  (Meters, Radians)<BR>
  -  Ref Linear Velocity  -- double  --  The desired linear velocity (Meters/sec)<BR>
  -  Ref Angular Velocity  -- double  --  The desired angular velocity (Radians/sec)<BR>
  -  Current Pose  -- Pose2d  --  The current pose.  (Meters, Radians)<BR>
  -  Enabled  -- boolean  --  If TRUE use closed loop control to calculate desired chassis speeds.  If FALSE, outputs the reference speeds directly.<BR>
  -  dt Sec  -- double  -- Update time (default: 0.02)<BR>
<BR>
Outputs:<BR>
  -  Chassis Speed  --  chassis speed  -- Chassis Speed Demand<BR>
  -  At Reference  --  boolean  --  If TRUE, the current position is within the tolerance.<BR>
  -  Error  --  boolean  --  If TRUE, an error occured.<BR>
  -  out LTV UnicycleCtrl  -- cluster  -- Internal data structure.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_Execute_TrajState" >LTVUnicycleCtrl_Execute_TrajState</h3>
<p><IMG SRC="LTVUnicycleCtrl_Execute_TrajState_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">The linear time-varying unicycle controller has a similar form to the LQR, but the model used to compute the controller gain is the nonlinear model linearized around the drivetrain's current state.<BR>
<BR>
This LabVIEW single call function creates and executes the LTV Unicycle controller. <BR>
<BR>
<BR>
Inputs:<BR>
  -  LTVUnicycleCtrl Model  --  cluster  --  Packed data used to construct the LTV Unicycle control system.<BR>
  -  LTVUnicycleCtrl Tol  --  cluster  --  Packed data used to define the tolerance LTV Unicycle control system.<BR>
  -  Traj State  -- Traj State  --  The desired trajectory state. contains desired position and speeds  (Meters, Radians)<BR>
  -  Current Pose  -- Pose2d  --  The current pose.  (Meters, Radians)<BR>
  -  Enabled  -- boolean  --  If TRUE use closed loop control to calculate desired chassis speeds.  If FALSE, outputs the reference speeds directly.<BR>
  -  dt Sec  -- double  -- Update time (default: 0.02)<BR>
<BR>
Outputs:<BR>
  -  Chassis Speed  --  chassis speed  -- Chassis Speed Demand<BR>
  -  At Reference  --  boolean  --  If TRUE, the current position is within the tolerance.<BR>
  -  Error  --  boolean  --  If TRUE, an error occured.<BR>
  -  out LTV UnicycleCtrl  -- cluster  -- Internal data structure.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_New" >LTVUnicycleCtrl_New</h3>
<p><IMG SRC="LTVUnicycleCtrl_New_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">The linear time-varying unicycle controller has a similar form to the LQR, but the model used to compute the controller gain is the nonlinear model linearized around the drivetrain's current state.<BR>
<BR>
Constructs a linear time-varying unicycle controller.<BR>
<BR>
Inputs:<BR>
   -  qelems  --  The maximum desired error tolerance for each state.  Matrix (3,1)  Defaults (0.0625 m, 0.125 m, 0.2 rad)<BR>
   -  relems  --  The maximum desired control effort for each input.  Matrix (2,1)  Defaults (1 m/s, 2 rad/s)<BR>
   -  dt  --  Discretization timestep in seconds.<BR>
   -  maxVelocity  --  The maximum velocity in meters per second for the controller gain lookup table. (Option)  The default is 9 m/s.<BR>
<BR>
Outputs:<BR>
   - LTV Unicycle Controller  --  Created data structure.<BR>
   -  Error  --  If TRUE, an error occured.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_Pack_Model_Params" >LTVUnicycleCtrl_Pack_Model_Params</h3>
<p><IMG SRC="LTVUnicycleCtrl_Pack_Model_Params_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Pack model and control values for LTV Unicycle Ctrl execute function<BR>
<BR>
Inputs:<BR>
  -  Max X Pos Meas Tol  --  double  --- Maximum desired X position measurement tolerance (meters, Default: 0.0625)<BR>
  -  Max Y Pos Meas Tol  --  double  --- Maximum desired y position measurement tolerance (meters, Default: 0.125)<BR>
  -  Max Heading Meas Tol  --  double  --- Maximum desired heading measurement tolerance (meters, Default: 0.2)<BR>
  -  Max angular ctrl effort V  -- double  -- Maximum angular control effort (rad/sec, default 2.0)<BR>
  -  Max linear vel ctrl effort V  -- double  -- Maximum linearcontrol effort (meters/sec, default 9.0)<BR>
<BR>
Outputs:<BR>
  -  LTV Unicycle Ctrl Control  -- cluster  -- Packed valules<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_Pack_Tolerance" >LTVUnicycleCtrl_Pack_Tolerance</h3>
<p><IMG SRC="LTVUnicycleCtrl_Pack_Tolerance_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Pack on target tolerance values for LTV Unicycle Ctrl execute function<BR>
<BR>
Inputs:<BR>
  -  Max X tolerance  --  double  --- Maximum desired X position tolerance (meters, Default: 0.03)<BR>
  -  Max Y tolerance  --  double  --- Maximum desired Y position tolerance (meters, Default 0.03)<BR>
  -  Max heading tolerance  --  double  --- Maximum desired heading tolerance (radians, Default 0.07)<BR>
<BR>
Outputs:<BR>
  -  LTV Unicycle Ctrl Tol  -- cluster  -- Packed valules<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_SetEnabled" >LTVUnicycleCtrl_SetEnabled</h3>
<p><IMG SRC="LTVUnicycleCtrl_SetEnabled_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Enables and disables the controller for troubleshooting purposes.<BR>
<BR>
When not enabled, the open loop reference values are passed through to the outputs.<BR>
<BR>
Inputs:<BR>
   - in LTV Unicycle Controller  -- Controller data cluster<BR>
   - Enabled  --  If the controller is enabled or not.<BR>
<BR>
Outputs:<BR>
   -  out LTV Unicycle Controller  --  Updated data cluster<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="LTVUnicycleCtrl_SetTolerance" >LTVUnicycleCtrl_SetTolerance</h3>
<p><IMG SRC="LTVUnicycleCtrl_SetTolerance_iconc.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;"> Sets the pose error which is considered tolerable for use with AtReference.<BR>
<BR>
The tolerance doesn't play a role in the control function.  It is only used by At Reference.<BR>
<BR>
Inputs:<BR>
   -  in LTV Unicycle Controller  -- Data cluster<BR>
   - Tolerance  --  Pose error which is tolerable.<BR>
<BR>
Outputs:<BR>
   - out LTV Unicycle Contreoller  --  Updated data cluster<BR>
</pre></p>
<br>
</BODY>
</HTML>