<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!-- Constructed with LabVIEW Report Generation -->
<HEAD>
<TITLE></TITLE>
</HEAD>

<BODY>
<h2 id="SimpleMotorFF" >SimpleMotorFF</h2>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_Calculate" >SimpleMotorFF_Calculate</h3>
<p><IMG SRC="LVtemp20221117051336_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the feedforward from the gains and setpoints.<BR>
   <BR>
Parameters:<BR>
   - SimpleMotorFF  --  Data structure containing constants<BR>
   - velocity Setpiont  --  The velocity setpoint.<BR>
   - acceleration  --  The setpoint acceleration.  (Note that this could also be calculated<BR>
                   from desired velocity, previous desired velocity (or actual velocity), and cycle time.) <BR>
   <BR>
Returns:<BR>
   - FeedForward -  The computed feedforward.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_CalculateVelocityOnly" >SimpleMotorFF_CalculateVelocityOnly</h3>
<p><IMG SRC="LVtemp20221117051339_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the feedforward from the gains and setpoints.  (acceleration is assumed to be zero)<BR>
   <BR>
Parameters:<BR>
   - SimpleMotorFF - Data structure containing constants<BR>
   - velocity     - The velocity setpoint.<BR>
   <BR>
Returns:<BR>
   - FeedForward -  The computed feedforward.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_Calculate_CalcAccel" >SimpleMotorFF_Calculate_CalcAccel</h3>
<p><IMG SRC="LVtemp20221117051343_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the feedforward from the gains and setpoints.   Instead of Acceleration Setpoint being supplied as a setpoint, the acceleration is calculated based on the change in the Velocity setpoint.<BR>
   <BR>
Parameters:<BR>
   - SimpleMotorFF  --  Data structure containing constants<BR>
   - velocity Setpoint   --  The velocity setpoint. <BR>
   - dt  -- The delta time (Seconds), default is 0.02 seconds.<BR>
Returns:<BR>
   - FeedForward -  The computed feedforward.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_Calculate_NextV_Dt" >SimpleMotorFF_Calculate_NextV_Dt</h3>
<p><IMG SRC="LVtemp20221117051348_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the feedforward from the gains and setpoints.   This VI calculates the acceleration by using a Linear System and a Linear Plant Inversion Feedforward.  These systems are only created upon the first call or when one of the Kv or Ka values change.<BR>
  <BR>
Input parameters:<BR>
   - SimpleMotorFF - Data structure containing constants<BR>
   - Vel_SP     -- The current velocity setpoint.  (The velocity SP that was used last scan cycle)<BR>
   - nextVel_SP  --   The next velocity setpoint.  (The velocity SP that we are using this scan cycle.)<BR>
   - dt_Sec  --  Time between velocity setpoints in seconds.<BR>
   <BR>
Returns:<BR>
   - FeedForward -  The computed feedforward.<BR>
   - Error  --  If TRUE, an error occured calculating the acceleration value.<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_MaxAchieveAccel" >SimpleMotorFF_MaxAchieveAccel</h3>
<p><IMG SRC="LVtemp20221117051353_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the maximum achievable acceleration given a maximum voltage supply and a velocity. Useful for ensuring that velocity and acceleration constraints for a trapezoidal profile are simultaneously achievable - enter the velocity constraint, and this will give you  a simultaneously-achievable acceleration constraint.<BR>
<BR>
Parameters:<BR>
    - Simple_Motor_FF - Data structure containing constants<BR>
   - maxVoltage -The maximum voltage that can be supplied to the motor.<BR>
   - velocity - The velocity of the motor.<BR>
<BR>
Returns:<BR>
   MaxAccel - The maximum possible acceleration at the given velocity.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_MaxAchieveVel" >SimpleMotorFF_MaxAchieveVel</h3>
<p><IMG SRC="LVtemp20221117051356_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the maximum achievable velocity given a maximum voltage supply and an acceleration.  Useful for ensuring that velocity and acceleration constraints for a trapezoidal profile are simultaneously achievable - enter the acceleration constraint, and this will give you a simultaneously-achievable velocity constraint.<BR>
<BR>
Parameters:<BR>
    - Simple_Motor_FF - Data structure containing constants<BR>
   - maxVoltage -The maximum voltage that can be supplied to the motor.<BR>
   - Acceleration - The acceleration of the motor.<BR>
<BR>
Returns:<BR>
   MaxVelocity - The maximum possible velocity at the given acceleration.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_MinAchieveAccel" >SimpleMotorFF_MinAchieveAccel</h3>
<p><IMG SRC="LVtemp20221117051400_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the minimum achievable acceleration given a maximum voltage supply and a velocity. Useful for ensuring that velocity and acceleration constraints for a trapezoidal profile are simultaneously achievable - enter the velocity constraint, and this will give you a simultaneously-achievable acceleration constraint.<BR>
<BR>
Parameters:<BR>
    - Simple_Motor_FF - Data structure containing constants<BR>
   - maxVoltage -The maximum voltage that can be supplied to the motor.<BR>
   - velocity - The velocity of the motor.<BR>
<BR>
Returns:<BR>
   - MinAccel - The minimum possible acceleration at the given velocity.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_MinAchieveVel" >SimpleMotorFF_MinAchieveVel</h3>
<p><IMG SRC="LVtemp20221117051403_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Calculates the minimum achievable velocity given a maximum voltage supply and an acceleration.  Useful for ensuring that velocity and acceleration constraints for a trapezoidal profile are simultaneously achievable - enter the acceleration constraint, and this will give you a simultaneously-achievable velocity constraint.<BR>
<BR>
Parameters:<BR>
    - Simple_Motor_FF - Data structure containing constants<BR>
   - maxVoltage -The maximum voltage that can be supplied to the motor.<BR>
   - Acceleration - The acceleration of the motor.<BR>
<BR>
Returns:<BR>
   - MinVelocity - The minimum possible velocity at the given acceleration.<BR>
<BR>
</pre></p>
<br>
<HR SIZE="6" WIDTH=" 100.000000%" COLOR="GREY">
<h3 id="SimpleMotorFF_New" >SimpleMotorFF_New</h3>
<p><IMG SRC="LVtemp20221117051407_0_0c.png"  ALIGN=BOTTOM></p>
<p><pre style="overflow-x: auto; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; font-family: serif; font-size: 12pt;">Creates a new SimpleMotorFeedforward with the specified gains.  Units of the gain values will dictate units of the computed feedforward.  (Generally units should be in meters to match other internal routines.)<BR>
<BR>
These can be obtained by using the FRC Characterization routine to test your robot.<BR>
<BR>
Parameters<BR>
   - ks  --  The static gain.  (volts)<BR>
   - kv  --  The velocity gain.   (volts seconds/meter)<BR>
   - ka  --  The acceleration gain.  (volts seconds^2 / meter )<BR>
   - Kn  --  The normalization constant.  When using the advanced PID, this constant helps<BR>
                  match the output of this routine to input of the advanced PID.<BR>
</pre></p>
<br>
</BODY>
</HTML>